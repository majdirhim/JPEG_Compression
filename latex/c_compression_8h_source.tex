\hypertarget{c_compression_8h_source}{}\doxysection{D\+:/\+JPEG\+\_\+\+Compression/c\+Compression.h}
\mbox{\hyperlink{c_compression_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <cstdio>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define Bloc8 8}}
\DoxyCodeLine{21 }
\DoxyCodeLine{26 \textcolor{keyword}{const} uint8\_t \mbox{\hyperlink{c_compression_8h_a967d3742d4cac7911e181d4caf7bd816}{RefTable}}[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}][\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}]=\{\{16,11 ,10 ,16 ,24 ,40, 51, 61\},}
\DoxyCodeLine{27                                 \{12 ,12 ,14 ,19 ,26 ,58 ,60 ,55\},}
\DoxyCodeLine{28                                 \{14 ,13 ,16 ,24 ,40 ,57 ,69 ,56\},}
\DoxyCodeLine{29                                 \{14 ,17 ,22 ,29 ,51 ,87 ,80 ,62\},}
\DoxyCodeLine{30                                 \{18 ,22 ,37 ,56 ,68 ,109 ,103 ,77\},}
\DoxyCodeLine{31                                 \{24 ,35 ,55 ,64 ,81 ,104 ,113 ,92\},}
\DoxyCodeLine{32                                 \{49 ,64 ,78 ,87 ,103 ,121 ,120 ,101\},}
\DoxyCodeLine{33                                 \{72 ,92 ,95 ,98 ,112 ,100 ,103 ,99\}}
\DoxyCodeLine{34                                 \};}
\DoxyCodeLine{35 }
\DoxyCodeLine{40 \textcolor{keyword}{class }\mbox{\hyperlink{classc_compression}{cCompression}}\{}
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mLargeur=128 , mHauteur=128;}
\DoxyCodeLine{43 uint8\_t *mBuffer;}
\DoxyCodeLine{44 uint8\_t TestImg[24*8] = \{   139,144,149,153,155,155,155,155,}
\DoxyCodeLine{45                             144,151,153,156,159,156,156,156,}
\DoxyCodeLine{46                             150,155,160,163,158,156,156,156,}
\DoxyCodeLine{47                             159,161,162,160,160,159,159,159,}
\DoxyCodeLine{48                             159,160,161,162,162,155,155,155,}
\DoxyCodeLine{49                             161,161,161,161,160,157,157,157,}
\DoxyCodeLine{50                             162,162,161,163,162,157,157,157,}
\DoxyCodeLine{51                             162,162,161,161,163,158,158,158,}
\DoxyCodeLine{52                             139,144,149,153,155,155,155,155,}
\DoxyCodeLine{53                             144,151,153,156,159,156,156,156,}
\DoxyCodeLine{54                             150,155,160,163,158,156,156,156,}
\DoxyCodeLine{55                             159,161,162,160,160,159,159,159,}
\DoxyCodeLine{56                             159,160,161,162,162,155,155,155,}
\DoxyCodeLine{57                             161,161,161,161,160,157,157,157,}
\DoxyCodeLine{58                             162,162,161,163,162,157,157,157,}
\DoxyCodeLine{59                             162,162,161,161,163,158,158,158,}
\DoxyCodeLine{60                             139,144,149,153,155,155,155,155,}
\DoxyCodeLine{61                             144,151,153,156,159,156,156,156,}
\DoxyCodeLine{62                             150,155,160,163,158,156,156,156,}
\DoxyCodeLine{63                             159,161,162,160,160,159,159,159,}
\DoxyCodeLine{64                             159,160,161,162,162,155,155,155,}
\DoxyCodeLine{65                             161,161,161,161,160,157,157,157,}
\DoxyCodeLine{66                             162,162,161,163,162,157,157,157,}
\DoxyCodeLine{67                             162,162,161,161,163,158,158,158}
\DoxyCodeLine{68                         \};}
\DoxyCodeLine{69 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mQualite=50;}
\DoxyCodeLine{70 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cpltTrameSize=0; \textcolor{comment}{/*Complete trame size*/}}
\DoxyCodeLine{71 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} TrameSize=0; \textcolor{comment}{/*Single Block's trame size*/} }
\DoxyCodeLine{72 \textcolor{keywordtype}{float} Trame\_average=0; \textcolor{comment}{/*Average of Current Trame*/} }
\DoxyCodeLine{73 \textcolor{keywordtype}{int} m\_DC\_precedent=0; \textcolor{comment}{/* Average previous Trame*/}}
\DoxyCodeLine{78 \textcolor{keyword}{enum} State\{}
\DoxyCodeLine{79     Strate\_H,}
\DoxyCodeLine{80     Down,}
\DoxyCodeLine{81     Strate\_V,}
\DoxyCodeLine{82     UP,}
\DoxyCodeLine{83     Exit}
\DoxyCodeLine{84 \};}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{keywordtype}{double} coeff(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} u)\textcolor{keyword}{const};}
\DoxyCodeLine{87 \textcolor{keywordtype}{void} toSigned(uint8\_t (*Block8x8)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{88 \textcolor{keywordtype}{double} lambda(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Quality)\textcolor{keyword}{const};}
\DoxyCodeLine{89 \textcolor{keywordtype}{double} QTable(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i , \textcolor{keywordtype}{unsigned} j)\textcolor{keyword}{const};}
\DoxyCodeLine{90 \textcolor{keywordtype}{void} State\_Machine\_RLE(\textcolor{keywordtype}{int} (*Qimg)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{int} *Trame);}
\DoxyCodeLine{91 \textcolor{keyword}{public}:}
\DoxyCodeLine{92     \mbox{\hyperlink{classc_compression}{cCompression}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename);}
\DoxyCodeLine{93     \mbox{\hyperlink{classc_compression_a9bc895fb3efd36315891b6e179f09c87}{\string~cCompression}}();}
\DoxyCodeLine{94     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classc_compression_a2c5a65f3cdd03e0f9e4938f445027d64}{get\_mLargeur}}(\textcolor{keywordtype}{void})\textcolor{keyword}{const};}
\DoxyCodeLine{95     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classc_compression_a39a2bfd185356e6fd20349bcf3ad36c5}{get\_mHauteur}}(\textcolor{keywordtype}{void})\textcolor{keyword}{const};}
\DoxyCodeLine{96     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classc_compression_a578a3efe952ecf4d3165e064e9fe6d19}{get\_mQualite}}(\textcolor{keywordtype}{void})\textcolor{keyword}{const};}
\DoxyCodeLine{97     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classc_compression_ab77917ecf34d93d81f5979c8990dbd41}{get\_cpltTrameSize}}()\textcolor{keyword}{const};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_a0831473a4652a7b0429db1b0a6e7dd69}{set\_mLargeur}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Lar );}
\DoxyCodeLine{100     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_a0d2e0a827b19c1c0776e7beb21741d83}{set\_mHauteur}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} HAU);}
\DoxyCodeLine{101     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_ad4eb6c19a23d1e61b79d04e24d033e36}{set\_mQualite}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Q);}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_abaa062cbe270a7baccf53c9bb825da5e}{Calcul\_DCT\_Block}}(uint8\_t (*Block8x8)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{double}(*DCT\_Img)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{104     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_af010096f361efc19bb0008e22056a349}{Calcul\_iDCT}}(\textcolor{keywordtype}{double}(*DCT\_Img)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],uint8\_t  (*Block8x8)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{105     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_ae3db1ef3046b8591207d1605ab2a7e26}{quant\_JPEG}}(\textcolor{keywordtype}{double}(*DCT\_Img)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{int} (*Img\_Quant)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{106     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_ae27fd4cefcd9bd6ae35c8dd6cd119cae}{dequant\_JPEG}}(\textcolor{keywordtype}{int} (*Img\_Quant)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{double}(*DCT\_Img)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{107 }
\DoxyCodeLine{108     \textcolor{keywordtype}{double} \mbox{\hyperlink{classc_compression_a09f59a518fec39057d7572b060565bfd}{EQM}}(uint8\_t (*Bloc8x8)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],uint8\_t (*IDCT)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{109     \textcolor{keywordtype}{double} \mbox{\hyperlink{classc_compression_aa8b00655372236088120171429b5b284}{Taux\_Compression}}(uint8\_t (*Bloc8x8)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{int} (*Qimg)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}])\textcolor{keyword}{const};}
\DoxyCodeLine{110     }
\DoxyCodeLine{111     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_a85665bba8f80d08ab4a7d7070154b507}{RLE\_Block}}(\textcolor{keywordtype}{int} (*Qimg)[\mbox{\hyperlink{c_compression_8h_af9ac23677658709b2a12767226908688}{Bloc8}}],\textcolor{keywordtype}{int} DC\_precedent ,\textcolor{keywordtype}{int} *Trame);}
\DoxyCodeLine{112     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_aaf496b19969e21160a8c87fd40e2c2fc}{RLE}}(\textcolor{keywordtype}{int}* CpltTrame);}
\DoxyCodeLine{113     \textcolor{keywordtype}{void} \mbox{\hyperlink{classc_compression_a4cf6baa39732b5137be9f3e921867e35}{TConcatenate}}(\textcolor{keywordtype}{int}* CpltTrame,\textcolor{keywordtype}{int}* Trame);}
\DoxyCodeLine{114 \};}

\end{DoxyCode}
